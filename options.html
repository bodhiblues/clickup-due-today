<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClickUp Tasks - Settings</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      font-size: 14px;
      line-height: 1.6;
      color: #1a1a2e;
      background: #f8f9fa;
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 32px;
    }

    .header h1 {
      font-size: 24px;
      font-weight: 600;
      color: #1a1a2e;
      margin-bottom: 8px;
    }

    .header p {
      color: #666;
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 24px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 16px;
      color: #1a1a2e;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title svg {
      width: 20px;
      height: 20px;
      color: #7b68ee;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group:last-child {
      margin-bottom: 0;
    }

    label {
      display: block;
      font-weight: 500;
      margin-bottom: 8px;
      color: #333;
    }

    input[type="password"],
    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    input:focus,
    select:focus {
      outline: none;
      border-color: #7b68ee;
      box-shadow: 0 0 0 3px rgba(123, 104, 238, 0.1);
    }

    .help-text {
      font-size: 12px;
      color: #666;
      margin-top: 8px;
    }

    .help-text a {
      color: #7b68ee;
      text-decoration: none;
    }

    .help-text a:hover {
      text-decoration: underline;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 8px;
      border: none;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary {
      background: linear-gradient(135deg, #7b68ee 0%, #5a4fcf 100%);
      color: white;
      width: 100%;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(123, 104, 238, 0.4);
    }

    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .status {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      margin-top: 16px;
      font-weight: 500;
    }

    .status.success {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .status.error {
      background: #ffebee;
      color: #c62828;
    }

    .status.hidden {
      display: none;
    }

    /* Feature toggles */
    .feature-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 8px;
      transition: background 0.2s;
    }

    .feature-item:hover {
      background: #f0f0ff;
    }

    .feature-toggle {
      position: relative;
      width: 44px;
      height: 24px;
      flex-shrink: 0;
    }

    .feature-toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.3s;
      border-radius: 24px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
    }

    .feature-toggle input:checked + .toggle-slider {
      background-color: #7b68ee;
    }

    .feature-toggle input:checked + .toggle-slider:before {
      transform: translateX(20px);
    }

    .feature-info {
      flex: 1;
    }

    .feature-name {
      font-weight: 500;
      color: #1a1a2e;
      margin-bottom: 2px;
    }

    .feature-description {
      font-size: 12px;
      color: #666;
    }

    .section-divider {
      height: 1px;
      background: #e0e0e0;
      margin: 16px 0;
    }

    .instructions {
      background: #f0f0ff;
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
    }

    .instructions h3 {
      font-size: 14px;
      margin-bottom: 12px;
      color: #5a4fcf;
    }

    .instructions ol {
      padding-left: 20px;
      color: #555;
    }

    .instructions li {
      margin-bottom: 8px;
    }

    /* Notification settings */
    .sub-settings {
      margin-top: 12px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
    }

    .sub-settings.hidden {
      display: none;
    }

    .sub-settings label {
      font-weight: normal;
      font-size: 13px;
    }

    .sub-settings input[type="number"] {
      width: 80px;
      padding: 8px;
      display: inline-block;
    }

    .inline-field {
      display: flex;
      align-items: center;
      gap: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ClickUp Tasks Settings</h1>
      <p>Configure your API key and customize features</p>
    </div>

    <!-- API Key Section -->
    <div class="card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
        </svg>
        API Configuration
      </div>
      <form id="api-form">
        <div class="form-group">
          <label for="api-key">ClickUp API Key</label>
          <input type="password" id="api-key" placeholder="pk_xxxxxxxx_xxxxxxxxxxxxxxxxxxxxxxxx">
          <p class="help-text">
            Get your API key from
            <a href="https://app.clickup.com/settings/apps" target="_blank">ClickUp Settings > Apps</a>
          </p>
        </div>
        <button type="submit" class="btn btn-primary" id="save-api-btn">Save API Key</button>
        <div id="api-status" class="status hidden"></div>
      </form>

      <div class="instructions">
        <h3>How to get your API key:</h3>
        <ol>
          <li>Go to <a href="https://app.clickup.com/settings/apps" target="_blank">ClickUp Settings</a></li>
          <li>Scroll down to <strong>API Token</strong></li>
          <li>Click <strong>Generate</strong> (or copy existing token)</li>
          <li>Paste the token above and save</li>
        </ol>
      </div>
    </div>

    <!-- Display Features -->
    <div class="card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
          <line x1="3" y1="9" x2="21" y2="9"/>
          <line x1="9" y1="21" x2="9" y2="9"/>
        </svg>
        Display Options
      </div>
      <div class="feature-list">
        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-overdue">
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Show Overdue Tasks</div>
            <div class="feature-description">Include tasks with past due dates in the list</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-due-time" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Show Due Time</div>
            <div class="feature-description">Display the specific due time for tasks (when available)</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-time-tracked" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Show Time Tracked</div>
            <div class="feature-description">Display time tracked vs estimated for each task</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-completed-count" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Show Completed Today</div>
            <div class="feature-description">Display count of tasks completed today in the footer</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-grouping">
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Group by List</div>
            <div class="feature-description">Organize tasks by their parent list/project</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-badge" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Badge Count</div>
            <div class="feature-description">Show number of tasks on the extension icon</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Task Actions -->
    <div class="card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12 6 12 12 16 14"/>
        </svg>
        Task Actions
      </div>
      <div class="feature-list">
        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-time-tracking" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Quick Time Tracking</div>
            <div class="feature-description">Start/stop timer for tasks directly from the extension</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-snooze" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Snooze Tasks</div>
            <div class="feature-description">Push task due date to tomorrow with one click</div>
          </div>
        </div>

        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-filters" checked>
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Workspace & Sort Filters</div>
            <div class="feature-description">Filter by workspace/space and sort tasks</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Notifications -->
    <div class="card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
        </svg>
        Notifications
      </div>
      <div class="feature-list">
        <div class="feature-item">
          <label class="feature-toggle">
            <input type="checkbox" id="feature-notifications">
            <span class="toggle-slider"></span>
          </label>
          <div class="feature-info">
            <div class="feature-name">Desktop Notifications</div>
            <div class="feature-description">Get notified when tasks are approaching their due time</div>
          </div>
        </div>
      </div>
      <div id="notification-settings" class="sub-settings hidden">
        <div class="inline-field">
          <label for="notification-minutes">Notify me</label>
          <input type="number" id="notification-minutes" value="15" min="5" max="60">
          <span>minutes before due time</span>
        </div>
      </div>
    </div>

    <!-- Save Settings Button -->
    <button type="button" class="btn btn-primary" id="save-features-btn">Save All Settings</button>
    <div id="features-status" class="status hidden"></div>
  </div>

  <script src="options.js"></script>
</body>
</html>
